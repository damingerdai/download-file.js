{"version":3,"file":"downloadFile.min.js","sources":["../src/index.js"],"sourcesContent":["\r\nexport function downloadFile(sUrl) {\r\n\r\n    //iOS devices do not support downloading. We have to inform user about this.\r\n    if (/(iP)/g.test(navigator.userAgent)) {\r\n        alert('Your device does not support files downloading. Please try again in desktop browser.');\r\n        return false;\r\n    }\r\n\r\n    //If in Chrome or Safari - download via virtual link click\r\n    if (window.downloadFile.isChrome || window.downloadFile.isSafari) {\r\n        //Creating new link node.\r\n        var link = document.createElement('a');\r\n        link.href = sUrl;\r\n\r\n        if (link.download !== undefined) {\r\n            //Set HTML5 download attribute. This will prevent file from opening if supported.\r\n            var fileName = sUrl.substring(sUrl.lastIndexOf('/') + 1, sUrl.length);\r\n            link.download = fileName;\r\n        }\r\n\r\n        //Dispatching click event.\r\n        if (document.createEvent) {\r\n            var e = document.createEvent('MouseEvents');\r\n            e.initEvent('click', true, true);\r\n            link.dispatchEvent(e);\r\n            return true;\r\n        }\r\n    }\r\n\r\n    // Force file download (whether supported by server).\r\n    if (sUrl.indexOf('?') === -1) {\r\n        sUrl += '?download';\r\n    }\r\n\r\n    window.open(sUrl, '_self');\r\n    return true;\r\n}\r\ndownloadFile.isChrome = navigator.userAgent.toLowerCase().indexOf('chrome') > -1;\r\ndownloadFile.isSafari = navigator.userAgent.toLowerCase().indexOf('safari') > -1; \r\n"],"names":["downloadFile","sUrl","test","navigator","userAgent","alert","window","isChrome","isSafari","link","document","createElement","href","undefined","download","fileName","substring","lastIndexOf","length","createEvent","e","initEvent","dispatchEvent","indexOf","open","toLowerCase"],"mappings":"0CACO,SAASA,EAAaC,GAGzB,GAAI,QAAQC,KAAKC,UAAUC,WAEvB,OADAC,MAAM,yFACC,EAIX,GAAIC,OAAON,aAAaO,UAAYD,OAAON,aAAaQ,SAAU,CAE9D,IAAIC,EAAOC,SAASC,cAAc,KAGlC,GAFAF,EAAKG,KAAOX,OAEUY,IAAlBJ,EAAKK,SAAwB,CAE7B,IAAIC,EAAWd,EAAKe,UAAUf,EAAKgB,YAAY,KAAO,EAAGhB,EAAKiB,QAC9DT,EAAKK,SAAWC,EAIpB,GAAIL,SAASS,YAAa,CACtB,IAAIC,EAAIV,SAASS,YAAY,eAG7B,OAFAC,EAAEC,UAAU,SAAS,GAAM,GAC3BZ,EAAKa,cAAcF,IACZ,GAUf,OAL2B,IAAvBnB,EAAKsB,QAAQ,OACbtB,GAAQ,aAGZK,OAAOkB,KAAKvB,EAAM,UACX,SAEXD,EAAaO,UAAkE,EAAvDJ,UAAUC,UAAUqB,cAAcF,QAAQ,UAClEvB,EAAaQ,UAAkE,EAAvDL,UAAUC,UAAUqB,cAAcF,QAAQ"}